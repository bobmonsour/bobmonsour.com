{% from "macros.njk" import tagList, dateAndReadingtime %}

{% for post in postslist %}
  <div class="post__card">
    <div class="post__metadata">
      <h2 class="post__title">
        <a href="{{ post.url }}">{{ post.data.title }}</a>
      </h2>
      {{ dateAndReadingtime(post.date, post.templateContent) }}
      {{ tagList(post.data.tags) }}
      <p class="post__excerpt">{{ post.data.description }}</p>
    </div>
    <div class="post__image">
      <a href="{{ post.url }}">
        {%- if loop.first %}
          {% set loading = "eager" %}
        {%- else %}
          {% set loading = "lazy" %}
        {%- endif %}
      {% image "src/assets/img/" + post.data.imagesrc, post.data.imagealt, "(min-width: 1120px) 500px, (min-width: 600px) calc(43.4vw + 23px), (min-width: 560px) calc(-1130vw + 6828px), calc(89.17vw + 19px)", loading %}</a>
    </div>
  </div>
  {%- if not loop.last %}<hr>{% endif %}
{% endfor %}
