{%- for post in postlist -%}
<section class="post-card">
  <div class="post-metadata">
    <h2 class="post-title">
      <a href="{{ post.url }}">{{ post.data.title }}</a>
    </h2>
    <p class="post-date">{{ post.date | formatPostDate }}</p>
    <p class="post-readingtime">{{ post.content | readingTime }}</p>
    {% set tagsdata = post.data.tags %}
    {% include 'taglist.njk' %}
  </div>
  <div class="post-image">
    <a href="{{ post.url }}">
      {# if the post is 1st or 2nd diplayed, load their images eagerly #}
      {%- if loop.index === 1 or loop.index === 2 -%}
        {% set loading = "eager" %}
      {%- else -%}
        {% set loading = "lazy" %}
      {%- endif -%}
    {%- set imageSource %}{{ post.data.imageDir + post.data.image.source }}{% endset -%}
    {% image imageSource, post.data.image.alt, "(min-width: 540px) 500px, 95.45vw", loading %}</a>
  </div>
</section>
{%- if not loop.last -%}<hr>{%- endif -%}
{%- endfor -%}
